(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{737:function(i,e,s){"use strict";s.r(e);var o=s(70),a=Object(o.a)({},(function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":i.$parent.slotKey}},[s("h1",{attrs:{id:"django-rest-api-aaaimx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#django-rest-api-aaaimx"}},[i._v("#")]),i._v(" Django REST API (AAAIMX)")]),i._v(" "),s("p",[i._v("API para gestion de miembros (usuarios) y divisiones del Capítulo AAAIMX")]),i._v(" "),s("h2",{attrs:{id:"modelos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#modelos"}},[i._v("#")]),i._v(" Modelos")]),i._v(" "),s("h3",{attrs:{id:"division"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#division"}},[i._v("#")]),i._v(" Division")]),i._v(" "),s("ul",[s("li",[i._v("id (default)")]),i._v(" "),s("li",[i._v("name")]),i._v(" "),s("li",[i._v("logo")]),i._v(" "),s("li",[i._v("fanpage")])]),i._v(" "),s("h3",{attrs:{id:"user"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#user"}},[i._v("#")]),i._v(" User")]),i._v(" "),s("ul",[s("li",[i._v("id (UUID)")]),i._v(" "),s("li",[i._v("username")]),i._v(" "),s("li",[i._v("email")]),i._v(" "),s("li",[i._v("division (solo puede pertenecer a una Division)")]),i._v(" "),s("li",[i._v("birthdate (Fecha)")])]),i._v(" "),s("h2",{attrs:{id:"api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[i._v("#")]),i._v(" API")]),i._v(" "),s("ul",[s("li",[i._v("Debe soportar autenticacion JWT")]),i._v(" "),s("li",[i._v("Documentación con Swagger")]),i._v(" "),s("li",[i._v("Acceso limitado de dominios (CORS)")]),i._v(" "),s("li",[i._v("Debe soportar dos ambientes DEV y PROD")]),i._v(" "),s("li",[i._v("Utilizar TDD (Test Development Driven)")])]),i._v(" "),s("h3",{attrs:{id:"auth-endpoints"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#auth-endpoints"}},[i._v("#")]),i._v(" Auth Endpoints")]),i._v(" "),s("ul",[s("li",[s("strong",[i._v("POST")]),i._v(" /api/auth/login/")]),i._v(" "),s("li",[s("strong",[i._v("GET")]),i._v(" /api/auth/groups/ Listar todos los Grupos de autenticacion (Roles) sin paginación.\n"),s("ul",[s("li",[s("strong",[i._v("Leader")]),i._v(": Acceso completo al CRUD de Usuario en su división y RU Division")]),i._v(" "),s("li",[s("strong",[i._v("Guest")]),i._v(": Acceso de lectura en su division.")]),i._v(" "),s("li",[s("strong",[i._v("User")]),i._v(": RU su propio usuario")])])])]),i._v(" "),s("h3",{attrs:{id:"user-endpoints"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#user-endpoints"}},[i._v("#")]),i._v(" User Endpoints")]),i._v(" "),s("ul",[s("li",[s("p",[s("strong",[i._v("GET")]),i._v(" /api/users/ Debe listar todos los usuarios de una division si el usuario es "),s("code",[i._v("Leader")]),i._v(" o "),s("code",[i._v("Guest")]),i._v(".")]),i._v(" "),s("ul",[s("li",[i._v("Retornar todos los campos de Usuario.")]),i._v(" "),s("li",[i._v("Busqueda por name, email.")]),i._v(" "),s("li",[i._v("Todos los campos deben poder filtrarse.")]),i._v(" "),s("li",[i._v("Todos los campos deben poder ordenarse")]),i._v(" "),s("li",[i._v("Orden por defecto por fecha de creación ("),s("code",[i._v("date_joined")]),i._v(")")])])]),i._v(" "),s("li",[s("p",[s("strong",[i._v("GET")]),i._v(" /api/users/{id}/ Obtener información de Usuario")]),i._v(" "),s("ul",[s("li",[i._v("Debe incluir solo los campos:\n"),s("ul",[s("li",[i._v("id")]),i._v(" "),s("li",[i._v("username")]),i._v(" "),s("li",[i._v("email")]),i._v(" "),s("li",[i._v("division: ("),s("code",[i._v("id")]),i._v(", "),s("code",[i._v("name")]),i._v(")")]),i._v(" "),s("li",[i._v("birthdate")])])])])]),i._v(" "),s("li",[s("p",[s("strong",[i._v("POST")]),i._v(" /api/users/ Crear un usuario para la Division")]),i._v(" "),s("ul",[s("li",[i._v("Se debe establacer la contraseña")]),i._v(" "),s("li",[i._v("Solo usuarios con rol "),s("code",[i._v("Leader")]),i._v(" tienen acceso.")])])]),i._v(" "),s("li",[s("p",[s("strong",[i._v("PATCH")]),i._v(" /api/users/{id} Actualizar información del usuario")]),i._v(" "),s("ul",[s("li",[i._v("Usuario con rol "),s("code",[i._v("Leader")]),i._v(" de la division.")]),i._v(" "),s("li",[i._v("Usuario propietario del recurso")])])]),i._v(" "),s("li",[s("p",[s("strong",[i._v("DELETE")]),i._v(" /api/users/{id} Eliminar usuario")]),i._v(" "),s("ul",[s("li",[i._v("Solo si el usuario es "),s("code",[i._v("Leader")]),i._v(" de la division")])])])]),i._v(" "),s("h3",{attrs:{id:"division-endpoints"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#division-endpoints"}},[i._v("#")]),i._v(" Division Endpoints")]),i._v(" "),s("ul",[s("li",[s("strong",[i._v("GET")]),i._v(" /api/divisions/ Listar divsiones si el usuario es Administrator ("),s("code",[i._v("is_superuser=True")]),i._v(" o "),s("code",[i._v("is_staff=True")]),i._v(")")]),i._v(" "),s("li",[s("strong",[i._v("GET")]),i._v(" /api/divisions/{id}/ Información de la Division\n"),s("ul",[s("li",[i._v("Solo si el usuario es "),s("code",[i._v("Leader")]),i._v(" o "),s("code",[i._v("Guest")]),i._v(" de la division.")])])]),i._v(" "),s("li",[s("strong",[i._v("PATCH")]),i._v(" /api/divisions/{id} Actualizar division\n"),s("ul",[s("li",[i._v("Solo si el usuario es "),s("code",[i._v("Leader")]),i._v(" de la division.")])])]),i._v(" "),s("li",[s("strong",[i._v("GET")]),i._v(" /api/division/{id}/users/ Listar todos los usuarios de la division\n"),s("ul",[s("li",[i._v("Si el usuario es "),s("code",[i._v("Leader")]),i._v(" o "),s("code",[i._v("Guest")]),i._v(".")]),i._v(" "),s("li",[i._v("Debe retornar solo "),s("code",[i._v("id")]),i._v(" y "),s("code",[i._v("username")]),i._v(" del usuario")])])])]),i._v(" "),s("h3",{attrs:{id:"other-endpoints"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#other-endpoints"}},[i._v("#")]),i._v(" Other Endpoints")]),i._v(" "),s("ul",[s("li",[s("strong",[i._v("GET")]),i._v(" /api/info/ Información general del usuario y la aplicación\n"),s("ul",[s("li",[i._v("Debe retornar:")]),i._v(" "),s("li",[s("code",[i._v("id")])]),i._v(" "),s("li",[s("code",[i._v("username")])]),i._v(" "),s("li",[s("code",[i._v("division_name")])]),i._v(" "),s("li",[s("code",[i._v("public_ip")]),i._v(": IP publica del servidor")])])])])])}),[],!1,null,null,null);e.default=a.exports}}]);